services:
  - type: web
    name: potros-gym-backend
    runtime: node
    plan: free
    region: oregon
    branch: main
    # Use npm ci to install backend deps deterministically and faster on CI
    buildCommand: cd backend && npm ci
    # Start the backend from the backend folder
    startCommand: cd backend && npm start
    env: node
    envVars:
      - key: NODE_ENV
        value: production
      - key: MONGO_URI
        sync: false
